# Сайт

Адрес stratz:

```
https://stratz.com/api
```

На инфе от stratz работают протрекер, опендота и некоторые другие. Возможно, у дотабафа своя система.

# Токен

Для получения данных через api нужен токен. Его можно получить, если залогиниться через свой стим на сайте стратз.

# Steam account id

Этот id обычно используется сервисами, чтобы получить информацию об игроке. Примерно 8 цифр.

# REST api

REST api они больше не поддерживают, можно не смотреть туда и не пользоваться. Все работает теперь на GraphQL.

# Песочница и документация

У них есть собственная песочница с документацией, чтобы тренироваться с запросами:

```
https://api.stratz.com/graphiql
```

Важно - там есть буква `i`.

Документация доступная в песочнице - в правом верхнем углу есть кнопка `Docs`.

# Эндпоинт для запросов

Запросы надо слать на эндпоинт

```
https://api.stratz.com/graphql
```

Важно - адрес похож на адрес песочницы, но тут нет буквы `i`.

# Как создать запрос в Insomnia

* Создаем новый запрос типа `GraphQL Request`.

  * Тип запроса должен быть `POST`, для GraphQL иное не используется.

  * Для этого запроса на вкладке `Auth` добавляем тип `Bearer Token` и вставляем свой токен.

  * На вкладке `Body` выбираем тип запроса `GraphQL` и вставляем запрос, например:

  ```yaml
  {
    match(id: 7916979536) {
      id,
      lobbyType
    }
  }
  ```

# Детали

* В день доступно 12_000 запросов.